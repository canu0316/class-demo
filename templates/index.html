<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MY WORKPLACE</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="app-container">
        <!-- È°∂ÈÉ®ÂØºËà™Ê†è -->
        <div class="nav-header">
            <div class="nav-title">
                <h1>CANY'S WORKPLACE</h1>
            </div>
            <div class="nav-buttons">
                <button id="notebook-btn" class="nav-btn active">NOTEBOOK</button>
                <button id="todo-btn" class="nav-btn">TODO</button>
                <button id="pomodoro-btn" class="nav-btn">POMODORO</button>
                <button id="project-overview-btn" class="nav-btn">PROJECT OVERVIEW</button>
            </div>
        </div>
        
        <!-- ‰∏ªË¶ÅÂÜÖÂÆπÂå∫Âüü -->
        <div class="main-content">
            <!-- NotebookËßÜÂõæ -->
            <div id="notebook-view" class="notebook-view">
                <!-- Â∑¶‰æßÊ†èÔºöÊñá‰ª∂Â§πÂíåÁ¨îËÆ∞ÂàóË°® -->
        <div id="sidebar-column" class="column">
            <div class="sidebar-header">
                <h2> Service Platform  </h2>
            </div>
            <div class="tags-container">
                <!-- Ê†áÁ≠æÂ∞ÜÂú®ËøôÈáåÂä®ÊÄÅÁîüÊàê -->
            </div>
            <div class="search-container">
                <input type="text" id="search-input" placeholder="ÊêúÁ¥¢Á¨îËÆ∞..." class="search-input">
                <button id="clear-search-btn" class="clear-search-btn">√ó</button>
            </div>
            <div id="folders-list">
                <!-- Êñá‰ª∂Â§πÂàóË°®Â∞ÜÂú®ËøôÈáåÂä®ÊÄÅÁîüÊàê -->
            </div>
            <div class="sidebar-footer">
                <button id="new-note-btn" class="btn primary">+ NEW NOTE</button>
            </div>
        </div>

        <!-- Â∑¶‰æßÊãñÊãΩÂàÜÈöîÊù° -->
        <div class="resize-handle" id="left-resize-handle"></div>

        <!-- ‰∏≠Èó¥Ê†èÔºöÁ¨îËÆ∞ÂÜÖÂÆπÁºñËæë -->
        <div id="editor-column" class="column">
            <div class="editor-header">
                <input type="text" id="note-title" placeholder="Á¨îËÆ∞Ê†áÈ¢ò..." class="title-input">
                <input type="text" id="note-tag" placeholder="Ê†áÁ≠æ..." class="tag-input">
            </div>
            <div class="editor-content">
                <textarea id="note-content" placeholder="ÂºÄÂßãÂÜô‰Ωú..."></textarea>
                <button id="delete-note-btn" class="btn danger">DELETE</button>
            </div>
            <div class="editor-footer">
                <span id="save-status">SAVED</span>
            </div>
        </div>

        <!-- Âè≥‰æßÊãñÊãΩÂàÜÈöîÊù° -->
        <div class="resize-handle" id="right-resize-handle"></div>

        <!-- Âè≥‰æßÊ†èÔºöAIÂäüËÉΩÈù¢Êùø -->
        <div id="ai-panel-column" class="column">
            <div class="ai-panel-header">
                <h3>AI HELP</h3>
            </div>
            <div class="ai-panel-content">
                <!-- ËÆæÁΩÆÈù¢Êùø -->
                <div id="settings-panel" style="display: none;">
                    <div class="settings-header">
                        <h4>settings</h4>
                        <button id="close-settings-btn" class="btn">ÂÖ≥Èó≠</button>
                    </div>
                    <div id="api-config-section" class="ai-section">
                        <h4>üîë APIÈÖçÁΩÆ</h4>
                        <div id="api-status">
                            <p id="api-status-text">Ê≠£Âú®Ê£ÄÊü•APIÈÖçÁΩÆ...</p>
                            <button id="config-api-btn" class="btn primary" style="display: none;">ÈÖçÁΩÆAPI</button>
                        </div>
                        <div id="api-form" style="display: none; margin-top: 10px;">
                            <input type="password" id="api-key-input" placeholder="ËæìÂÖ•OpenRouter APIÂØÜÈí•" class="api-input" style="width: 100%; margin-bottom: 10px; padding: 8px; border: 1px solid #d2d2d7; border-radius: 4px;">
                            <button id="save-api-btn" class="btn primary" style="width: 100%;">‰øùÂ≠òAPIÂØÜÈí•</button>
                            <button id="cancel-api-btn" class="btn" style="width: 100%; margin-top: 5px;">ÂèñÊ∂à</button>
                        </div>
                        <div id="api-loading" style="display: none; text-align: center; padding: 20px;">
                            <small>Ê≠£Âú®È™åËØÅAPIÂØÜÈí•...</small>
                        </div>
                    </div>
                </div>
                
                <div id="ai-features" style="display: none;">
                    <div class="ai-section">
                        <h4>ÁîüÊàêÊ†áÈ¢ò</h4>
                        <button id="generate-title-btn" class="btn">ÁîüÊàêÊ†áÈ¢ò</button>
                    </div>
                    <div class="ai-section">
                        <h4>Ê∂¶Ëâ≤ÂÜÖÂÆπ</h4>
                        <button id="polish-content-btn" class="btn">Ê∂¶Ëâ≤ÂÜÖÂÆπ</button>
                    </div>
                    <div class="ai-section">
                        <div id="ai-suggestions" style="display: none; padding: 10px; background-color: #f0f8ff; border-radius: 8px; margin-top: 10px; font-size: 12px; color: #333;"></div>
                    </div>
                </div>
                
                <!-- Êó•ÂéÜÁªÑ‰ª∂ -->
                <div class="ai-section">
                    <h4>üìÖ Êó•ÂéÜ</h4>
                    <div id="calendar-container">
                        <div class="calendar-header">
                            <button id="prev-month" class="calendar-nav-btn">‚Äπ</button>
                            <span id="current-month-year"></span>
                            <button id="next-month" class="calendar-nav-btn">‚Ä∫</button>
                        </div>
                        <div class="calendar-grid">
                            <div class="calendar-weekdays">
                                <div class="weekday">Êó•</div>
                                <div class="weekday">‰∏Ä</div>
                                <div class="weekday">‰∫å</div>
                                <div class="weekday">‰∏â</div>
                                <div class="weekday">Âõõ</div>
                                <div class="weekday">‰∫î</div>
                                <div class="weekday">ÂÖ≠</div>
                            </div>
                            <div id="calendar-days" class="calendar-days">
                                <!-- Êó•ÊúüÂ∞ÜÂú®ËøôÈáåÂä®ÊÄÅÁîüÊàê -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="ai-panel-footer">
                <button id="settings-btn" class="btn">‚öôÔ∏è</button>
            </div>
        </div>
        </div> <!-- ÁªìÊùü notebook-view -->

        <!-- TODOÁïåÈù¢ -->
        <div id="todo-view" class="todo-container" style="display: none;">
            <div class="todo-sidebar">
                <div class="todo-header">
                    <h2>TODO LIST</h2>
                    <button id="new-todo-btn" class="btn primary">+ NEW TODO</button>
                </div>
                <div id="todo-list" class="todo-list">
                    <!-- TODOÈ°πÁõÆÂ∞ÜÂú®ËøôÈáåÂä®ÊÄÅÁîüÊàê -->
                </div>
            </div>
            
            <!-- TODOÂ∑¶‰æßÊãñÊãΩÂàÜÈöîÊù° -->
            <div class="resize-handle todo-resize-handle" id="todo-left-resize-handle"></div>
            
            <div class="todo-main">
                <div class="todo-editor">
                    <input type="text" id="todo-title" placeholder="‰ªªÂä°Ê†áÈ¢ò..." class="todo-title-input">
                    <textarea id="todo-description" placeholder="‰ªªÂä°ÊèèËø∞..."></textarea>
                    <div class="todo-controls">
                        <select id="todo-priority" class="todo-select">
                            <option value="high">P0</option>
                            <option value="p1">P1</option>
                            <option value="medium">P2</option>
                            <option value="low">P3</option>
                        </select>
                        <button id="save-todo-btn" class="btn primary">‰øùÂ≠ò</button>
                        <button id="delete-todo-btn" class="btn danger">Âà†Èô§</button>
                    </div>
                </div>
            </div>
            
            <!-- TODOÂè≥‰æßÊãñÊãΩÂàÜÈöîÊù° -->
            <div class="resize-handle todo-resize-handle" id="todo-right-resize-handle"></div>
            
            <!-- TODOÂè≥‰æßÊ†èÔºöÊó•ÂéÜ -->
            <div class="todo-calendar-panel">
                <div class="todo-calendar-header">
                    <h3>üìÖ Êó•ÂéÜ</h3>
                </div>
                <div class="todo-calendar-content">
                    <div id="todo-calendar-container">
                        <div class="calendar-header">
                            <button id="todo-prev-month" class="calendar-nav-btn">‚Äπ</button>
                            <span id="todo-current-month-year"></span>
                            <button id="todo-next-month" class="calendar-nav-btn">‚Ä∫</button>
                        </div>
                        <div class="calendar-grid">
                            <div class="calendar-weekdays">
                                <div class="weekday">Êó•</div>
                                <div class="weekday">‰∏Ä</div>
                                <div class="weekday">‰∫å</div>
                                <div class="weekday">‰∏â</div>
                                <div class="weekday">Âõõ</div>
                                <div class="weekday">‰∫î</div>
                                <div class="weekday">ÂÖ≠</div>
                            </div>
                            <div id="todo-calendar-days" class="calendar-days">
                                <!-- Êó•ÊúüÂ∞ÜÂú®ËøôÈáåÂä®ÊÄÅÁîüÊàê -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- POMODOROÁïåÈù¢ -->
        <div id="pomodoro-view" class="pomodoro-container" style="display: none;">
            <div class="pomodoro-sidebar">
                <div class="task-section">
                    <div class="task-header">
                        <h3>‰ªäÊó•‰ªªÂä°</h3>
                        <button id="add-task-btn" class="add-task-btn" onclick="console.log('HTML onclick triggered'); createNewPomodoroTask();">+</button>
                    </div>
                    <div class="task-input-container" id="task-input-container" style="display: none;">
                        <input type="text" id="new-task-input" placeholder="ËæìÂÖ•‰ªªÂä°..." class="task-input">
                        <div class="task-input-actions">
                            <button id="save-task-btn" class="task-action-btn save">‰øùÂ≠ò</button>
                            <button id="cancel-task-btn" class="task-action-btn cancel">ÂèñÊ∂à</button>
                        </div>
                    </div>
                    <div id="task-list" class="task-list">
                        <!-- ‰ªªÂä°ÂàóË°®Â∞ÜÂú®ËøôÈáåÂä®ÊÄÅÁîüÊàê -->
                    </div>
                </div>
                
                <div class="history-section">
                    <div class="history-header">
                        <h3>ÂéÜÂè≤ËÆ∞ÂΩï</h3>
                    </div>
                    <div id="history-list" class="history-list">
                        <!-- ÂéÜÂè≤ËÆ∞ÂΩïÂ∞ÜÂú®ËøôÈáåÂä®ÊÄÅÁîüÊàê -->
                    </div>
                </div>
            </div>
            
            <div class="pomodoro-main">
                <div class="pomodoro-header">

                </div>
                
                <div class="pomodoro-timer-section">
                    <div class="timer-display">
                        <div class="timer-circle">
                            <svg class="timer-svg" width="280" height="280" viewBox="0 0 280 280">
                                <!-- Áï™ËåÑÊó∂ÈíüÂ§ñÂúà -->
                                <circle class="tomato-outer" cx="140" cy="150" r="80" fill="#ff6b6b" stroke="#ff4757" stroke-width="3"/>
                                
                                <!-- Êó∂ÈíüË°®Áõò -->
                                <circle class="clock-face" cx="140" cy="150" r="55" fill="#fff5f5" stroke="#ff4757" stroke-width="2"/>
                                
                                <!-- Áï™ËåÑËøõÂ∫¶Â°´ÂÖÖ -->
                                <defs>
                                    <clipPath id="tomato-clip">
                                        <circle cx="140" cy="150" r="80"/>
                                    </clipPath>
                                </defs>
                                <rect class="timer-progress-fill" x="60" y="230" width="160" height="0" fill="#ff4757" clip-path="url(#tomato-clip)"/>
                                
                                <!-- Êó∂ÈíüÂàªÂ∫¶ -->
                                <g class="clock-marks">
                                    <!-- 12ÁÇπ -->
                                    <line x1="140" y1="100" x2="140" y2="110" stroke="#333" stroke-width="3" stroke-linecap="round"/>
                                    <!-- 3ÁÇπ -->
                                    <line x1="190" y1="150" x2="180" y2="150" stroke="#333" stroke-width="3" stroke-linecap="round"/>
                                    <!-- 6ÁÇπ -->
                                    <line x1="140" y1="200" x2="140" y2="190" stroke="#333" stroke-width="3" stroke-linecap="round"/>
                                    <!-- 9ÁÇπ -->
                                    <line x1="90" y1="150" x2="100" y2="150" stroke="#333" stroke-width="3" stroke-linecap="round"/>
                                </g>
                                
                                <!-- Êó∂ÈíàÂàÜÈíà -->
                                <g class="clock-hands">
                                    <!-- Êó∂Èíà -->
                                    <line class="hour-hand" x1="140" y1="150" x2="140" y2="125" stroke="#333" stroke-width="4" stroke-linecap="round"/>
                                    <!-- ÂàÜÈíà -->
                                    <line class="minute-hand" x1="140" y1="150" x2="165" y2="135" stroke="#ff4757" stroke-width="3" stroke-linecap="round"/>
                                </g>
                                
                                <!-- Êó∂Èíü‰∏≠ÂøÉÁÇπ -->
                                <circle cx="140" cy="150" r="4" fill="#333"/>
                                
                                <!-- Áï™ËåÑÂè∂Â≠êË£ÖÈ•∞ -->
                                <ellipse class="tomato-leaf" cx="140" cy="65" rx="15" ry="10" fill="#26d0ce" stroke="#1dd1a1" stroke-width="2"/>
                            </svg>
                        </div>
                        <div class="timer-content">
                            <div class="timer-time" id="pomodoro-timer">25:00</div>
                            <div class="timer-label" id="pomodoro-status" class="pomodoro-status work">Â∑•‰ΩúÊó∂Èó¥</div>
                            <div class="session-info" id="pomodoro-session">Á¨¨ 1 ‰∏™Áï™ËåÑÈíü</div>
                        </div>
                    </div>
                    
                    <div class="timer-controls">
                        <button id="pomodoro-start" class="timer-btn primary">ÂºÄÂßã</button>
                        <button id="pomodoro-pause" class="timer-btn secondary" style="display: none;">ÊöÇÂÅú</button>
                        <button id="pomodoro-reset" class="timer-btn secondary">ÈáçÁΩÆ</button>
                    </div>
                </div>
                

            </div>

        </div>
        
        <!-- È°πÁõÆÊ¶ÇËßàÁïåÈù¢ -->
        <div id="project-overview-view" class="project-overview-container" style="display: none;">
            <div class="overview-filters">
                <div class="filter-buttons">
                    <button class="filter-btn active" data-filter="all">All Projects</button>
                    <button class="filter-btn" data-filter="active">Active</button>
                    <button class="filter-btn" data-filter="completed">Completed</button>
                    <button class="filter-btn" data-filter="planning">Planning</button>
                </div>
                <button class="new-project-btn" id="new-project-overview-btn">+ New Project</button>
            </div>
            <div class="project-grid" id="project-overview-grid">
                <!-- È°πÁõÆÂç°ÁâáÂ∞ÜÂú®ËøôÈáåÂä®ÊÄÅÁîüÊàê -->
            </div>
        </div>
        
        <!-- È°πÁõÆËØ¶ÊÉÖÁïåÈù¢ -->
        <div id="project-detail-view" class="project-detail-container" style="display: none;">
            <div class="project-detail-header">
                <button id="back-to-overview-btn" class="btn secondary">‚Üê ËøîÂõûÊ¶ÇËßà</button>
                <div class="project-detail-actions">
                    <button id="save-project-detail-btn" class="btn primary">‰øùÂ≠ò</button>
                    <button id="delete-project-detail-btn" class="btn danger">Âà†Èô§È°πÁõÆ</button>
                </div>
            </div>
            
            <div class="project-detail-content">
                <div class="project-detail-info">
                    <div class="project-detail-basic">
                        <input type="text" id="project-detail-name" placeholder="È°πÁõÆÂêçÁß∞..." class="project-name-input">
                        <textarea id="project-detail-description" placeholder="È°πÁõÆÊèèËø∞..." class="project-description-textarea"></textarea>
                    </div>
                    
                    <div class="project-detail-meta">
                        <div class="meta-row">
                            <label>Áä∂ÊÄÅ:</label>
                            <select id="project-detail-status" class="project-select">
                                <option value="planning">Planning</option>
                                <option value="active">Active</option>
                                <option value="completed">Completed</option>
                                <option value="onhold">On Hold</option>
                            </select>
                        </div>
                        <div class="meta-row">
                            <label>‰ºòÂÖàÁ∫ß:</label>
                            <select id="project-detail-priority" class="project-select">
                                <option value="low">Low</option>
                                <option value="medium">Medium</option>
                                <option value="high">High</option>
                            </select>
                        </div>
                        <div class="meta-row">
                            <label>ÂºÄÂßãÊó•Êúü:</label>
                            <input type="date" id="project-detail-start-date" class="project-date-input">
                        </div>
                        <div class="meta-row">
                            <label>ÁªìÊùüÊó•Êúü:</label>
                            <input type="date" id="project-detail-end-date" class="project-date-input">
                        </div>
                    </div>
                </div>
                
                <!-- TrelloÈ£éÊ†ºÁúãÊùø -->
                <div class="project-detail-kanban">
                    <div class="kanban-header">
                        <h3>È°πÁõÆÁúãÊùø</h3>
                        <button class="btn btn-primary add-task-btn" onclick="showTaskModal()">+ Ê∑ªÂä†‰ªªÂä°</button>
                    </div>
                    
                    <div class="kanban-board">
                        <div class="kanban-column" data-status="todo">
                            <div class="column-header">
                                <h4>üìã ÂæÖÂäû‰∫ãÈ°π</h4>
                                <span class="task-count" id="detail-todo-count">0</span>
                            </div>
                            <div class="task-list" data-status="todo"></div>
                            <button class="add-card-btn" onclick="showTaskModal('todo')">+ Ê∑ªÂä†Âç°Áâá</button>
                        </div>
                        
                        <div class="kanban-column" data-status="inprogress">
                            <div class="column-header">
                                <h4>üöÄ ËøõË°å‰∏≠</h4>
                                <span class="task-count" id="detail-inprogress-count">0</span>
                            </div>
                            <div class="task-list" data-status="inprogress"></div>
                            <button class="add-card-btn" onclick="showTaskModal('inprogress')">+ Ê∑ªÂä†Âç°Áâá</button>
                        </div>
                        
                        <div class="kanban-column" data-status="done">
                            <div class="column-header">
                                <h4>‚úÖ Â∑≤ÂÆåÊàê</h4>
                                <span class="task-count" id="detail-done-count">0</span>
                            </div>
                            <div class="task-list" data-status="done"></div>
                            <button class="add-card-btn" onclick="showTaskModal('done')">+ Ê∑ªÂä†Âç°Áâá</button>
                        </div>
                    </div>
                </div>
                
                <!-- È°πÁõÆÁªüËÆ° -->
                <div class="project-detail-stats">
                    <div class="stats-header">
                        <h3>È°πÁõÆÁªüËÆ°</h3>
                    </div>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number" id="detail-total-tasks">0</div>
                            <div class="stat-label">ÊÄª‰ªªÂä°</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="detail-completed-tasks">0</div>
                            <div class="stat-label">Â∑≤ÂÆåÊàê</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="detail-progress-percent">0%</div>
                            <div class="stat-label">ÂÆåÊàêÂ∫¶</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="detail-days-left">-</div>
                            <div class="stat-label">Ââ©‰ΩôÂ§©Êï∞</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- È°πÁõÆÁÆ°ÁêÜÁïåÈù¢ -->
        <div id="project-view" class="project-container" style="display: none;">
            <div class="project-header">
                <h2>È°πÁõÆÁúãÊùø</h2>
                <button id="create-kanban-task-btn" class="btn primary" onclick="createNewKanbanTask()">+ Êñ∞Âª∫‰ªªÂä°</button>
            </div>
            
            <div class="kanban-board">
                <div class="kanban-column" data-status="pending">
                    <div class="column-header">
                        <h3>üìã ÂæÖÂäû‰∫ãÈ°π</h3>
                        <span class="column-count">0</span>
                    </div>
                    <div id="kanban-todo" class="kanban-tasks">
                        <!-- ÂæÖÂäû‰ªªÂä°Âç°ÁâáÂ∞ÜÂú®ËøôÈáåÂä®ÊÄÅÁîüÊàê -->
                    </div>
                </div>
                
                <div class="kanban-column" data-status="in_progress">
                    <div class="column-header">
                        <h3>üöÄ ËøõË°å‰∏≠</h3>
                        <span class="column-count">0</span>
                    </div>
                    <div id="kanban-in-progress" class="kanban-tasks">
                        <!-- ËøõË°å‰∏≠‰ªªÂä°Âç°ÁâáÂ∞ÜÂú®ËøôÈáåÂä®ÊÄÅÁîüÊàê -->
                    </div>
                </div>
                
                <div class="kanban-column" data-status="completed">
                    <div class="column-header">
                        <h3>‚úÖ Â∑≤ÂÆåÊàê</h3>
                        <span class="column-count">0</span>
                    </div>
                    <div id="kanban-done" class="kanban-tasks">
                        <!-- Â∑≤ÂÆåÊàê‰ªªÂä°Âç°ÁâáÂ∞ÜÂú®ËøôÈáåÂä®ÊÄÅÁîüÊàê -->
                    </div>
                </div>
            </div>
        </div>
        
        </div> <!-- ÂÖ≥Èó≠ main-content -->
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>